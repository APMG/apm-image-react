---
name: AmpImage 
route: /amp-image
---
import AmpImage from '.'
import { image } from '../__testdata__/image'
import '../styles/image.module.scss'

# `<AmpImage />`

A component that takes an endpoint from American Public Media's internal image API and turns it into a valid `<amp-img />` object with a `srcset` and proper sizing. It can also be given a `srcset` and/or `src` manually via the fallback props. For example, this:

```javascript
import { AmpImage } from '@apmg/mimas'
import { imageData } from './data/image'

<AmpImage image={imageData} aspectRatio='widescreen' />
```

Would produce the following image (which won't appear on this docs site because I am not making this AMP, but you should be able to see the markup if you inspect this element in the browser).

#### Right click below to examine the AMP goodness

<AmpImage image={image} aspectRatio='widescreen' />

We include one inline style with the AMP Image because it's hard to think of a single scenario where we wouldn't want the `maxWidth` of the image to be `100%`, and it's a bit baffling that the visual breaks by default.

## Props

### `image`

A JSON endpoint from APM's Image API. If formatted as expected, this component will create the src, srcset, sizes, alt text, width, height, and aspect ratio.

### `aspectRatio`

Allows you to manually select one of the aspect ratios provided in the image endpoint. Can only be used if the `image` property data is provided and valid. Accepts one of the following strings:

* normal
* square
* thumbnail
* widescreen
* portrait
* uncropped

### `elementClass`

Accepts a string that will set the className of the `<img />` object

### `fallbackSrcSet`

Accepts a srcset string and overrides any srcset generated from the `image` prop (if applicable). 

### `fallbackSrc`

Accepts a URL string and overrides any src set by the `image` prop (if applicable). 

### `alt`

Accepts a string and overrides any alt phrase set by the `image` prop (if applicable).

### `sizes`

Accepts a string and overrides any sizes attribute set by the `image` prop (if applicable).

### `fallbackHeight`

Accepts a string with a number. Allows you to manually provide the height mandatory on AMP pages.

### `fallbackWidth`

Accepts a string with a number. Allows you to manually provide the width mandatory on AMP pages.
